<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>恐慌与贪婪指数</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <style>
      html, body { height: 100%; }
      body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; color: #111; display: flex; flex-direction: column; }
      header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid #eee; }
      .range { display: flex; gap: 8px; }
      .range button { padding: 6px 10px; border: 1px solid #ddd; border-radius: 6px; background: #fafafa; cursor: pointer; }
      .range button.active { background: #1677ff; color: white; border-color: #1677ff; }
      .lang { display: flex; gap: 8px; align-items: center; }
      .lang button { padding: 6px 10px; border: 1px solid #ddd; border-radius: 6px; background: #fafafa; cursor: pointer; }
      .lang button.active { background: #1677ff; color: white; border-color: #1677ff; }
      .content { padding: 12px 16px; flex: 1 1 auto; min-height: 0; display: flex; position: relative; }
      #chart { width: 100%; height: 100%; display: block; flex: 1 1 auto; }
      .meta { font-size: 12px; color: #666; }
      .legend { position: absolute; top: 8px; right: 16px; display: flex; gap: 12px; align-items: center; color: #666; font-size: 12px; background: rgba(255,255,255,0.7); border: 1px solid #eee; border-radius: 6px; padding: 4px 8px; }
      .legend-item { display: flex; align-items: center; }
      .swatch { display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 6px; border: 2px solid transparent; }
      .swatch-fear { border-color: #ff4d4f; background: rgba(255, 77, 79, 0.25); }
      .swatch-greed { border-color: #52c41a; background: rgba(82, 196, 26, 0.25); }
      .swatch-other { border-color: #1677ff; background: rgba(22, 119, 255, 0.15); }
    </style>
  </head>
  <body>
    <header>
      <div>
        <strong>恐慌与贪婪指数</strong>
        <div class="meta source">数据来源：alternative.me</div>
        <div class="meta copyright">版权归属：ZZ</div>
      </div>
      <div class="range">
        <button data-limit="7" class="active">最近一周</button>
        <button data-limit="30">最近一月</button>
        <button data-limit="365">最近一年</button>
        <button data-limit="0">MAX</button>
      </div>
      <div class="lang">
        <button data-lang="zh" class="active">中文</button>
        <button data-lang="en">EN</button>
      </div>
    </header>
    <div class="content">
      <div class="legend">
        <div class="legend-item"><span class="swatch swatch-fear"></span>恐慌</div>
        <div class="legend-item"><span class="swatch swatch-greed"></span>贪婪</div>
        <div class="legend-item"><span class="swatch swatch-other"></span>其他</div>
      </div>
      <canvas id="chart"></canvas>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="index.js"></script>
  </body>
  </html>